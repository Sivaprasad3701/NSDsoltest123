For a retail organization, based out of London, create a new Event Broker Service using PubSub+ platform called "mytestscenario1" and deploy in GCP's USA or India Data Center.

Specify the message-vpn name as : myvpn

Below steps to be done using Solace CLI command

step-1:
Create 2 ACL Profiles named :
a. s1
b. s2
Configure the ACL profile to connect to the client and change the default client to allow the connection.

developer-production-u4yynbr1q16-solace-primary-0#  configure
developer-production-u4yynbr1q16-solace-primary-0(configure)# create acl-profile s1 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile)# client-connect
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile/client-connect)# default-action allow
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile/client-connect)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure)# create acl-profile s2 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile)# client-connect
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile/client-connect)# default-action allow         
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile/client-connect)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure/acl-profile)# exit

step:-2:
Create 2 new client-usernames called :
a. u1
b. u2

developer-production-u4yynbr1q16-solace-primary-0(configure)# create client-username u1 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure)# create client-username u2 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit

step-3:
Bind the ACL profiles with the client-username in the below manner:
1. s1 :: u1
2. s2 :: u2

developer-production-u4yynbr1q16-solace-primary-0(configure)# client-username u1 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# acl-profile s1
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure)# client-username u2 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# acl-profile s2
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit

step-4:
In the next step, modify the ACL profile binding to client-username as per the following use case:
==> s2 :: u1

developer-production-u4yynbr1q16-solace-primary-0(configure)# client-username u1 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# shutdown
All clients using this Client Username will be disconnected.
Do you want to continue (y/n)? y

developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# acl-profile s2
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit

step-5:
Show the details of u1 client and the details of s2 acl-profile.

developer-production-u4yynbr1q16-solace-primary-0(configure)# client-username u1 message-vpn myvpn
developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# show client-username *

Total Client Usernames  :    17 of 1018
  Configured            :    17
  Dynamic               :     0

Username                           Message VPN                 Enabled # Clients
---------------------------------- --------------------------- ------- ---------
#client-username                   myvpn                           Yes         1
default                            myvpn                            No         0
solace-cloud-client                myvpn                           Yes         0
u1                                 myvpn                            No         0
u2                                 myvpn                            No         0

developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# show client-username u1 detail

Total Client Usernames  :    17 of 1018
  Configured            :    17
  Dynamic               :     0

Username                : u1
Message VPN             : myvpn
Enabled                 : No
Permission Override     : No
Client Profile          : default
ACL Profile             : s2
Authorization Group     :
Dynamically configured  : No
Password Configured     : No
Subscription Manager    : No
# Clients               : 0
  Service SMF           : 0
  Service Web Transport : 0
Max Connections         : 100
  Service SMF           : 1000
  Service Web Transport : 1000
Attributes              :
# Endpoints             : 0
Max Endpoints           : 100

developer-production-u4yynbr1q16-solace-primary-0(configure/client-username)# exit
developer-production-u4yynbr1q16-solace-primary-0(configure)# show acl-profile s2 detail

Profile Name : s2
Vpn Name     : myvpn
  Client Connect Default Action : allow
    Exceptions : 0
  Publish Topic Default Action : disallow
    Exceptions : 0
  Subscribe Topic Default Action : disallow
    Exceptions : 0
  Subscribe Share Name Default Action : allow
    Exceptions : 0

developer-production-u4yynbr1q16-solace-primary-0(configure)#  exit
